name: poplibc
templates: templates
modules:
    libc:
        kind: lib
        output: libc.a
        target: host
        defines:
            - DISABLE_SSE
            - LACKS_UNISTD_H
            - LACKS_FCNTL_H
            - LACKS_SYS_PARAM_H
            - LACKS_SYS_MMAN_H
            - LACKS_SCHED_H
            - LACKS_STRINGS_H
            - HAVE_MMAP=0
              #- LACKS_STRING_H
              #- LACKS_ERRNO_H
              #- LACKS_STDLIB_H
              #- LACKS_TIME_H
        includes:
            - include
            - popcorn/include
        source:
            - functions/inttypes/strtoimax.c
            - functions/inttypes/imaxdiv.c
            - functions/inttypes/imaxabs.c
            - functions/inttypes/strtoumax.c
            - functions/locale/setlocale.c
            - functions/locale/localeconv.c
            - functions/ctype/isalpha.c
            - functions/ctype/tolower.c
            - functions/ctype/toupper.c
            - functions/ctype/isblank.c
            - functions/ctype/isprint.c
            - functions/ctype/isgraph.c
            - functions/ctype/isdigit.c
            - functions/ctype/isspace.c
            - functions/ctype/iscntrl.c
            - functions/ctype/isxdigit.c
            - functions/ctype/islower.c
            - functions/ctype/isupper.c
            - functions/ctype/isalnum.c
            - functions/ctype/ispunct.c
            - functions/stdlib/bsearch.c
            - functions/stdlib/srand.c
            - functions/stdlib/labs.c
            - functions/stdlib/strtoull.c
            - functions/stdlib/atexit.c
            - functions/stdlib/lldiv.c
            - functions/stdlib/abort.c
            - functions/stdlib/malloc.c
            - functions/stdlib/atol.c
            - functions/stdlib/llabs.c
            - functions/stdlib/strtoul.c
            - functions/stdlib/exit.c
            - functions/stdlib/abs.c
            - functions/stdlib/strtol.c
            - functions/stdlib/ldiv.c
            - functions/stdlib/atoi.c
            - functions/stdlib/strtoll.c
            - functions/stdlib/_Exit.c
            - functions/stdlib/qsort.c
            - functions/stdlib/atoll.c
            - functions/stdlib/div.c
            - functions/stdlib/rand.c
            - functions/string/strrchr.c
            - functions/string/strcmp.c
            - functions/string/strtok.c
            - functions/string/strerror.c
            - functions/string/strncat.c
            - functions/string/strcoll.c
            - functions/string/memmove.c
            - functions/string/strncmp.c
            - functions/string/strlen.c
            - functions/string/strxfrm.c
            - functions/string/strcspn.c
            - functions/string/memset.c
            - functions/string/memcmp.c
            - functions/string/strcpy.c
            - functions/string/memchr.c
            - functions/string/strspn.c
            - functions/string/strncpy.c
            - functions/string/strchr.c
            - functions/string/strstr.c
            - functions/string/strpbrk.c
            - functions/string/memcpy.c
            - functions/string/strcat.c
            - functions/time/strftime.c
            - functions/time/gmtime.c
            - functions/time/ctime.c
            - functions/time/asctime.c
            - functions/time/difftime.c
            - functions/time/mktime.c
            - functions/time/localtime.c
            - functions/_PDCLIB/_PDCLIB_load_lc_ctype.c
            - functions/_PDCLIB/_PDCLIB_digits.c
            - functions/_PDCLIB/_PDCLIB_prepwrite.c
            - functions/_PDCLIB/_PDCLIB_load_lc_time.c
            - functions/_PDCLIB/_PDCLIB_load_lc_numeric.c
            - functions/_PDCLIB/_PDCLIB_strtox_prelim.c
            - functions/_PDCLIB/_PDCLIB_is_leap.c
            - functions/_PDCLIB/_PDCLIB_atomax.c
            - functions/_PDCLIB/_PDCLIB_print.c
            - functions/_PDCLIB/_PDCLIB_seed.c
            - functions/_PDCLIB/_PDCLIB_prepread.c
            - functions/_PDCLIB/_PDCLIB_strtox_main.c
            - functions/_PDCLIB/_PDCLIB_load_lc_messages.c
            - functions/_PDCLIB/_PDCLIB_filemode.c
            - functions/_PDCLIB/errno.c
            - functions/_PDCLIB/_PDCLIB_load_lines.c
            - functions/_PDCLIB/assert.c
            - functions/_PDCLIB/_PDCLIB_closeall.c
            - functions/_PDCLIB/_PDCLIB_scan.c
            - functions/_PDCLIB/_PDCLIB_load_lc_monetary.c
            - functions/_PDCLIB/_PDCLIB_load_lc_collate.c
            - functions/stdio/rename.c
            - functions/stdio/fprintf.c
            - functions/stdio/fsetpos.c
            - functions/stdio/sprintf.c
            - functions/stdio/perror.c
            - functions/stdio/freopen.c
            - functions/stdio/tmpnam.c
            - functions/stdio/ftell.c
            - functions/stdio/fgets.c
            - functions/stdio/vscanf.c
            - functions/stdio/fputs.c
            - functions/stdio/vsprintf.c
            - functions/stdio/sscanf.c
            - functions/stdio/vsscanf.c
            - functions/stdio/setbuf.c
            - functions/stdio/vprintf.c
            - functions/stdio/setvbuf.c
            - functions/stdio/puts.c
            - functions/stdio/fclose.c
            - functions/stdio/ungetc.c
            - functions/stdio/fscanf.c
            - functions/stdio/feof.c
            - functions/stdio/scanf.c
            - functions/stdio/vfscanf.c
            - functions/stdio/ferror.c
            - functions/stdio/getchar.c
            - functions/stdio/putchar.c
            - functions/stdio/getc.c
            - functions/stdio/fgetpos.c
            - functions/stdio/rewind.c
            - functions/stdio/fflush.c
            - functions/stdio/fread.c
            - functions/stdio/putc.c
            - functions/stdio/fwrite.c
            - functions/stdio/clearerr.c
            - functions/stdio/vsnprintf.c
            - functions/stdio/vfprintf.c
            - functions/stdio/fopen.c
            - functions/stdio/snprintf.c
            - functions/stdio/printf.c
            - functions/stdio/fputc.c
            - functions/stdio/fseek.c
            - functions/stdio/fgetc.c
            - popcorn/functions/stdlib/getenv.c
            - popcorn/functions/stdlib/system.c
            - popcorn/functions/signal/raise.c
            - popcorn/functions/signal/signal.c
            - popcorn/functions/time/time.c
            - popcorn/functions/time/clock.c
            - popcorn/functions/time/timespec_get.c
            - popcorn/functions/_PDCLIB/_PDCLIB_fillbuffer.c
            - popcorn/functions/_PDCLIB/_PDCLIB_seek.c
            - popcorn/functions/_PDCLIB/_PDCLIB_flushbuffer.c
            - popcorn/functions/_PDCLIB/_PDCLIB_close.c
            - popcorn/functions/_PDCLIB/_PDCLIB_stdinit.c
            - popcorn/functions/_PDCLIB/_PDCLIB_open.c
            - popcorn/functions/_PDCLIB/_PDCLIB_rename.c
            - popcorn/functions/_PDCLIB/_PDCLIB_allocpages.c
            - popcorn/functions/_PDCLIB/sbrk.c
            - popcorn/functions/stdio/remove.c
            - popcorn/functions/stdio/tmpfile.c
            - popcorn/functions/_PDCLIB/_PDCLIB_Exit.s
