name: poplibc
templates: templates
modules:
    libc:
        kind: lib
        output: libc.a
        target: host
        defines:
            - DISABLE_SSE
            - LACKS_UNISTD_H
            - LACKS_FCNTL_H
            - LACKS_SYS_PARAM_H
            - LACKS_SYS_MMAN_H
            - LACKS_SCHED_H
            - LACKS_STRINGS_H
            - HAVE_MMAP=0
              #- LACKS_STRING_H
              #- LACKS_ERRNO_H
              #- LACKS_STDLIB_H
              #- LACKS_TIME_H
        includes:
            - src/include
        source:
            - src/arch/x86_64/_PDCLIB_Exit.s
            - src/ctype/isalnum.c
            - src/ctype/isalpha.c
            - src/ctype/isblank.c
            - src/ctype/iscntrl.c
            - src/ctype/isdigit.c
            - src/ctype/isgraph.c
            - src/ctype/islower.c
            - src/ctype/isprint.c
            - src/ctype/ispunct.c
            - src/ctype/isspace.c
            - src/ctype/isupper.c
            - src/ctype/isxdigit.c
            - src/ctype/tolower.c
            - src/ctype/toupper.c
            - src/inttypes/imaxabs.c
            - src/inttypes/imaxdiv.c
            - src/inttypes/strtoimax.c
            - src/inttypes/strtoumax.c
            - src/locale/localeconv.c
            - src/locale/setlocale.c
            - src/_PDCLIB/assert.c
            - src/_PDCLIB/errno.c
            - src/_PDCLIB/_PDCLIB_allocpages.c
            - src/_PDCLIB/_PDCLIB_atomax.c
            - src/_PDCLIB/_PDCLIB_closeall.c
            - src/_PDCLIB/_PDCLIB_close.c
            - src/_PDCLIB/_PDCLIB_digits.c
            - src/_PDCLIB/_PDCLIB_filemode.c
            - src/_PDCLIB/_PDCLIB_fillbuffer.c
            - src/_PDCLIB/_PDCLIB_flushbuffer.c
            - src/_PDCLIB/_PDCLIB_is_leap.c
            - src/_PDCLIB/_PDCLIB_load_lc_collate.c
            - src/_PDCLIB/_PDCLIB_load_lc_ctype.c
            - src/_PDCLIB/_PDCLIB_load_lc_messages.c
            - src/_PDCLIB/_PDCLIB_load_lc_monetary.c
            - src/_PDCLIB/_PDCLIB_load_lc_numeric.c
            - src/_PDCLIB/_PDCLIB_load_lc_time.c
            - src/_PDCLIB/_PDCLIB_load_lines.c
            - src/_PDCLIB/_PDCLIB_open.c
            - src/_PDCLIB/_PDCLIB_prepread.c
            - src/_PDCLIB/_PDCLIB_prepwrite.c
            - src/_PDCLIB/_PDCLIB_print.c
            - src/_PDCLIB/_PDCLIB_rename.c
            - src/_PDCLIB/_PDCLIB_scan.c
            - src/_PDCLIB/_PDCLIB_seed.c
            - src/_PDCLIB/_PDCLIB_seek.c
            - src/_PDCLIB/_PDCLIB_stdinit.c
            - src/_PDCLIB/_PDCLIB_strtox_main.c
            - src/_PDCLIB/_PDCLIB_strtox_prelim.c
            - src/_PDCLIB/sbrk.c
            - src/signal/raise.c
            - src/signal/signal.c
            - src/stdio/clearerr.c
            - src/stdio/fclose.c
            - src/stdio/feof.c
            - src/stdio/ferror.c
            - src/stdio/fflush.c
            - src/stdio/fgetc.c
            - src/stdio/fgetpos.c
            - src/stdio/fgets.c
            - src/stdio/fopen.c
            - src/stdio/fprintf.c
            - src/stdio/fputc.c
            - src/stdio/fputs.c
            - src/stdio/fread.c
            - src/stdio/freopen.c
            - src/stdio/fscanf.c
            - src/stdio/fseek.c
            - src/stdio/fsetpos.c
            - src/stdio/ftell.c
            - src/stdio/fwrite.c
            - src/stdio/getc.c
            - src/stdio/getchar.c
            - src/stdio/perror.c
            - src/stdio/printf.c
            - src/stdio/putc.c
            - src/stdio/putchar.c
            - src/stdio/puts.c
            - src/stdio/remove.c
            - src/stdio/rename.c
            - src/stdio/rewind.c
            - src/stdio/scanf.c
            - src/stdio/setbuf.c
            - src/stdio/setvbuf.c
            - src/stdio/snprintf.c
            - src/stdio/sprintf.c
            - src/stdio/sscanf.c
            - src/stdio/tmpfile.c
            - src/stdio/tmpnam.c
            - src/stdio/ungetc.c
            - src/stdio/vfprintf.c
            - src/stdio/vfscanf.c
            - src/stdio/vprintf.c
            - src/stdio/vscanf.c
            - src/stdio/vsnprintf.c
            - src/stdio/vsprintf.c
            - src/stdio/vsscanf.c
            - src/stdlib/abort.c
            - src/stdlib/abs.c
            - src/stdlib/atexit.c
            - src/stdlib/atoi.c
            - src/stdlib/atol.c
            - src/stdlib/atoll.c
            - src/stdlib/bsearch.c
            - src/stdlib/div.c
            - src/stdlib/exit.c
            - src/stdlib/_Exit.c
            - src/stdlib/getenv.c
            - src/stdlib/labs.c
            - src/stdlib/ldiv.c
            - src/stdlib/llabs.c
            - src/stdlib/lldiv.c
            - src/stdlib/malloc.c
            - src/stdlib/qsort.c
            - src/stdlib/rand.c
            - src/stdlib/srand.c
            - src/stdlib/strtol.c
            - src/stdlib/strtoll.c
            - src/stdlib/strtoul.c
            - src/stdlib/strtoull.c
            - src/stdlib/system.c
            - src/string/memchr.c
            - src/string/memcmp.c
            - src/string/memcpy.c
            - src/string/memmove.c
            - src/string/memset.c
            - src/string/strcat.c
            - src/string/strchr.c
            - src/string/strcmp.c
            - src/string/strcoll.c
            - src/string/strcpy.c
            - src/string/strcspn.c
            - src/string/strerror.c
            - src/string/strlen.c
            - src/string/strncat.c
            - src/string/strncmp.c
            - src/string/strncpy.c
            - src/string/strpbrk.c
            - src/string/strrchr.c
            - src/string/strspn.c
            - src/string/strstr.c
            - src/string/strtok.c
            - src/string/strxfrm.c
            - src/time/asctime.c
            - src/time/clock.c
            - src/time/ctime.c
            - src/time/difftime.c
            - src/time/gmtime.c
            - src/time/localtime.c
            - src/time/mktime.c
            - src/time/strftime.c
            - src/time/time.c
            - src/time/timespec_get.c
